# MEDUSA Security Scanner - Gemini CLI Integration Configuration
# Version: 2025.1.9

medusa:
  version: "2025.1.9"
  enabled: true

  # Auto-scan settings
  auto_scan:
    enabled: true
    on_file_change: true
    smart_mode: true
    only_if_changed: true

  # File patterns
  file_patterns:
    include:
      - "*.py"
      - "*.js"
      - "*.ts"
      - "*.jsx"
      - "*.tsx"
      - "*.sh"
      - "*.bash"
      - "*.yml"
      - "*.yaml"
      - "*.sql"
      - "*.go"
      - "*.rs"
      - "*.rb"
      - "*.php"
      - "*.java"
      - "*.c"
      - "*.cpp"
      - "*.h"

    exclude:
      - "*.min.js"
      - "*.bundle.js"
      - "node_modules/**"
      - ".venv/**"
      - "venv/**"
      - "dist/**"
      - "build/**"
      - "target/**"
      - "__pycache__/**"
      - "*.pyc"

  # AI Analysis Configuration
  ai_analysis:
    enabled: true
    provider: "google"  # or "anthropic" if using Claude
    model: "gemini-pro"
    max_tokens: 8192
    temperature: 0.1
    confidence_threshold: 0.7
    batch_analysis: true
    cost_limit_per_scan: 5.00
    privacy_mode: false

    features:
      false_positive_detection: true
      contextual_explanations: true
      secure_code_generation: true
      natural_language_queries: true
      risk_assessment: true

  # Notifications
  notifications:
    on_issues_found:
      enabled: true
      severity_levels:
        - critical
        - high
      format: "Found {count} {severity} security issues (AI confidence: {confidence}%)"
      show_snippet: true
      suggest_fix: true

    on_scan_complete:
      enabled: true
      show_summary: true
      show_filtered_fp_count: true

    on_false_positive_filtered:
      enabled: true
      format: "ðŸ¤– AI filtered {count} false positives"

  # Commands
  commands:
    ai_review:
      description: "AI-powered security scan with FP filtering"
      enabled: true

    ai_explain:
      description: "Explain specific security finding"
      enabled: true

    ask:
      description: "Natural language security queries"
      enabled: true

    fix:
      description: "Generate secure code fixes"
      enabled: true
      create_backup: true
      require_confirmation: true

    scan:
      description: "Fast traditional scan (no AI)"
      enabled: true

    install:
      description: "Install security tools"
      enabled: true

  # Output Configuration
  output:
    format: "json"  # json, sarif, text, html
    report_location: ".medusa/reports/"
    cache_location: ".medusa/cache/"
    logs_location: ".medusa/logs/"
    cache_duration_hours: 24

  # Scan Options
  scan_options:
    fail_on_critical: false
    filter_test_files: true
    parallel: true
    max_concurrent_scanners: 10
    timeout: 300

  # Integration
  integration:
    git:
      enabled: true
      scan_on_commit: false
      scan_on_push: false
      block_on_critical: false

    pull_request:
      enabled: true
      auto_review: false
      comment_on_findings: true
      require_manual_trigger: true

# Gemini CLI-specific settings
gemini:
  # CLI prompt customization
  prompt:
    style: "default"  # default, minimal, verbose
    show_confidence: true
    show_file_paths: true
    color_output: true

  # Command aliases
  aliases:
    review: "medusa ai-review"
    explain: "medusa ai-explain"
    ask: "medusa ask"
    fix: "medusa fix"
    scan: "medusa scan"
    install: "medusa install"

  # Output preferences
  output:
    format: "text"  # text, json, markdown
    pager: "less"  # less, more, none
    max_output_lines: 1000
